<!DOCTYPE HTML>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="scripts/bootstrap-3.1.1-dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="stylesheets/less/admins.css">
	<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
	<script src="http://code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
	<script type="text/javascript">
        $(function() {
            $( "#sortable, #sortable2" ).sortable({
                placeholder: "test2"
            });
            $( "#sortable, #sortable2" ).disableSelection();
        
            if(_answerIndex == null)
                var _answerIndex = 0;
            if(_questionIndex == null)
                var _questionIndex = 0;
            $(document).on('click', '.add-answer', function(){
                _answerIndex = _answerIndex + 1;
                console.log(_answerIndex);
                $(this).closest('.answers').find('.answerbank').append("<li class='ui-state-default test2'><div class='boxed-answer'><label class='answer'><span class='glyphicon glyphicon-sort'></span></label><input type='text' class='answer' name='answer"+_answerIndex+"' value=''> <button class='btn btn-danger btn-xs added-answer'>X</button></div></li>");
                return false;
            });
        });
        
        $(document).on('click', '.added-answer', function(){
            $(this).parent().remove();
        });

        $(document).on('dblclick', 'li.answer', function(){
            $(this).parent().toggleClass('right-answer');
            // $(this).parent().prop('correct', true);
        });

        $(document).on('click', '#add-question', function(){
            $('.container').append("");
        });
        $(document).on('click', '.delete_btn', function(){
            $(this).closest('li.ui-state-default').remove();
        });
        
        $(document).on('click', '#addQuestion', function(){
            var info = $(this).closest('form').serializeArray();
            console.log(info);
            var question = info[0].value;
            $('#sortable2').append("<li class='ui-state-default'><div class='row'> <div class='col-xs-12 formatted-div'><div class='row'><div class='col-xs-12'><div class='question'><textarea>"+question+"</textarea></div></div></div><div class='row'><div class='col-xs-6'><div class='answers'> <h4>Doublec click on an answer to toggle correct/incorrect.</h4><ul id='sortable' class='answerbank'></ul><button class='boxed-answer add-answer'>Add an answer</button></div></div><div class='col-xs-6'><div class='row'><div class='options'><div class='row padding15'><h4>Set the test options.</h4><div class='top'><div class='col-xs-6 padded'><label>Enter Time Limit:</label><br><label>Shuffle Answers</label></div><div class='col-xs-6 padded'><input type='stopwatch' class='timelimit' placeholder='00:00'> <br><input type='checkbox'></div></div></div><div class='row padding15'><div class='bottom padded'><button class='btn btn-success'>UPDATE</button><button class='btn btn-danger delete_btn'>DELETE</button></div></div></div></div></div></div></div></div></li>");            
            
            return false;
        });
	</script>
	<title>Admin Create/Edit Test</title>
</head>
<body>

<div class="container">

	<div class="row"> <!-- SECTION: NAVIGATION ROW -->
		<div class="col-xs-12 formatted-div">        
            <div class="row">     
                <div class="col-xs-6"> 
                   <div class="site-logo">
                        <h1>Testing Platform - Admin</h1>
                    </div>
                </div>
                <div class="col-xs-6">
                    <nav class="navigation">
                        <a href="/Users/kratos/Desktop/TestingPlatform/admin-test-index.html" class="btn btn-default">Home</a>
                        <a href="/Users/kratos/Desktop/TestingPlatform/admin-results.html" class="btn btn-default">Results</a>
                        <a href="/Users/kratos/Desktop/TestingPlatform/landingpage.html" class="btn btn-default">Logout</a>
                    </nav>		
                </div>
            </div>
		</div>
	</div> <!-- END SECTION: NAVIGATION ROW -->

	<div class="row"> <!-- SETION: TEST DETAILS ROW -->
		<div class="col-xs-12 formatted-div">
            <div class="row">
               <h3>Update Test Information:</h3>
                <div class="col-xs-5 padding5">
                    <div class="col-xs-4">
                        <label>Test Name:</label><br>
                        <label>Test URL:</label>
                    </div>
                    <div class="col-xs-8 font-black">
                        <input class="wide100" value=""><br>
                        <input class="wide100" value="">
                    </div>
                </div>
                <div class="col-xs-5 padding5">
                    <div class="col-xs-4">
                        <label>Test ID:</label>
                    </div>
                    <div class="col-xs-8">
                        <input class="font-black wide100" value="001">
                    </div>
                </div>
                <div class="col-xs-2 padding5">
                    <button class="btn btn-success">Update</button>
                    <button class="btn btn-danger">Delete</button>
                </div>
            </div>
		</div>
	</div> <!-- END SETION: TEST DETAILS ROW -->

	<div class="row"> <!-- SECTION: QUESTION ANSWERS & OPTIONS ROW -->
	    <div class="col-xs-12 formatted-div">           
              <h3>Generate Test Question:</h3>
           <form action="" id="newQuestion" type="post"> <!-- FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM -->
            <div class="row"> <!-- QUESTION ROW -->
                <div class="col-xs-12">
                    <div class="question">
                        <textarea id="formQuestion" name="question" value=""></textarea>
                    </div>
                </div>
            </div>	
            <div class="row"> <!-- ANSWERS AND OPTIONS ROW -->
                <div class="col-xs-6 answers"> <!-- ANSWERS COLUMN -->
                    <h4>Doublec click on an answer to toggle correct/incorrect.</h4>
                    <ul id="sortable" class="answerbank">
                    </ul>
                    <button class="boxed-answer add-answer">Add an answer</button>
                </div> <!-- END ANSWERS COLUMN -->
                <div class="col-xs-6"> <!-- OPTIONS COLUMN -->
                    <div class="row options">
                        <div class="row padding15">
                            <h4>Set the test options.</h4>
                            <div class="col-xs-6 padded">
                                <label>Enter Time Limit:</label><br>
                                <label>Shuffle Answers</label>
                            </div>
                            <div class="col-xs-6 padded">
                                <input class="timelimit" placeholder="00:00" name="questionTimeLimit"> <br>
                                <input type="checkbox">		
                            </div>
                        </div>
                        <div class="row padding15 bottom padded">
                            <button class="btn btn-success" id="addQuestion">ADD</button>
                            <button class="btn btn-warning">CLEAR</button>
                        </div>
                    </div>
                </div> <!-- END OPTIONS COLUMN -->
            </div> <!-- END ANSWERS AND OPTIONS ROW -->
            </form> <!-- FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM FORM -->
        </div>
    </div> <!-- END SECTION: QUESTION ANSWERS & OPTIONS ROW -->
    <div class="row"> <!-- SECTION: QUESTION ANSWERS & OPTIONS ROW -->
	    <div class="col-xs-12 formatted-div">           
              <h3>Questions List:</h3>
        </div>
    </div>

    <ol id="sortable2" class="ol-questions"> <!-- QUESTIONS SORT -->        
      
    </ol> <!-- END QUESTIONS SORT -->

</div>
</body>
</html>